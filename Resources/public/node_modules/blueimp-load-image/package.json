{
  "name": "blueimp-load-image",
  "version": "2.6.2",
  "main": "index.js",
  "title": "JavaScript Load Image",
  "description": "JavaScript Load Image is a library to load images provided as File or Blob objects or via URL. It returns an optionally scaled and/or cropped HTML img or canvas element. It also provides a method to parse image meta data to extract Exif tags and thumbnails and to restore the complete image header after resizing.",
  "keywords": [
    "javascript",
    "load",
    "loading",
    "image",
    "file",
    "blob",
    "url",
    "scale",
    "crop",
    "img",
    "canvas",
    "meta",
    "exif",
    "thumbnail",
    "resizing"
  ],
  "homepage": "https://github.com/blueimp/JavaScript-Load-Image",
  "author": {
    "name": "Sebastian Tschan",
    "url": "https://blueimp.net"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/blueimp/JavaScript-Load-Image.git"
  },
  "devDependencies": {
    "mocha-phantomjs": "4.0.1",
    "standard": "6.0.7",
    "uglify-js": "2.6.1"
  },
  "scripts": {
    "test": "standard *.js js/*.js test/*.js && mocha-phantomjs test/index.html",
    "build": "cd js && uglifyjs load-image.js load-image-orientation.js load-image-meta.js load-image-exif.js load-image-exif-map.js -c -m -o load-image.all.min.js --source-map load-image.all.min.js.map",
    "preversion": "npm test",
    "version": "npm run build && git add -A js",
    "postversion": "git push --tags origin master master:gh-pages && npm publish"
  },
  "license": "MIT",
  "readme": "# JavaScript Load Image\n\n> A JavaScript library to load and transform image files.\n\n## Table of contents\n\n- [Demo](#demo)\n- [Description](#description)\n- [Setup](#setup)\n- [Usage](#usage)\n- [Image loading](#image-loading)\n- [Image scaling](#image-scaling)\n- [Requirements](#requirements)\n- [API](#api)\n- [Options](#options)\n- [Meta data parsing](#meta-data-parsing)\n- [Exif parser](#exif-parser)\n- [License](#license)\n- [Credits](#credits)\n\n## Demo\n[JavaScript Load Image Demo](https://blueimp.github.io/JavaScript-Load-Image/)\n\n## Description\nJavaScript Load Image is a library to load images provided as File or Blob\nobjects or via URL.  \nIt returns an optionally scaled and/or cropped HTML img or canvas element via an\nasynchronous callback.  \nIt also provides a method to parse image meta data to extract Exif tags and\nthumbnails and to restore the complete image header after resizing.\n\n## Setup\nInclude the (combined and minified) JavaScript Load Image script in your HTML\nmarkup:\n\n```html\n<script src=\"js/load-image.all.min.js\"></script>\n```\n\nOr alternatively, choose which components you want to include:\n\n```html\n<script src=\"js/load-image.js\"></script>\n<script src=\"js/load-image-orientation.js\"></script>\n<script src=\"js/load-image-meta.js\"></script>\n<script src=\"js/load-image-exif.js\"></script>\n<script src=\"js/load-image-exif-map.js\"></script>\n```\n\n## Usage\n\n### Image loading\nIn your application code, use the **loadImage()** function like this:\n\n```js\ndocument.getElementById('file-input').onchange = function (e) {\n    loadImage(\n        e.target.files[0],\n        function (img) {\n            document.body.appendChild(img);\n        },\n        {maxWidth: 600} // Options\n    );\n};\n```\n\n### Image scaling\nIt is also possible to use the image scaling functionality with an existing\nimage:\n\n```js\nvar scaledImage = loadImage.scale(\n    img, // img or canvas element\n    {maxWidth: 600}\n);\n```\n\n## Requirements\nThe JavaScript Load Image library has zero dependencies.\n\nHowever, JavaScript Load Image is a very suitable complement to the\n[Canvas to Blob](https://github.com/blueimp/JavaScript-Canvas-to-Blob) library.\n\n## API\nThe **loadImage()** function accepts a\n[File](https://developer.mozilla.org/en/DOM/File) or\n[Blob](https://developer.mozilla.org/en/DOM/Blob) object or a simple image URL\n(e.g. `'https://example.org/image.png'`) as first argument.\n\nIf a [File](https://developer.mozilla.org/en/DOM/File) or\n[Blob](https://developer.mozilla.org/en/DOM/Blob) is passed as parameter, it\nreturns a HTML **img** element if the browser supports the\n[URL](https://developer.mozilla.org/en/DOM/window.URL) API or a\n[FileReader](https://developer.mozilla.org/en/DOM/FileReader) object if\nsupported, or **false**.  \nIt always returns a HTML\n[img](https://developer.mozilla.org/en/docs/HTML/Element/Img) element when\npassing an image URL:\n\n```js\ndocument.getElementById('file-input').onchange = function (e) {\n    var loadingImage = loadImage(\n        e.target.files[0],\n        function (img) {\n            document.body.appendChild(img);\n        },\n        {maxWidth: 600}\n    );\n    if (!loadingImage) {\n        // Alternative code ...\n    }\n};\n```\n\nThe **img** element or\n[FileReader](https://developer.mozilla.org/en/DOM/FileReader) object returned by\nthe **loadImage()** function allows to abort the loading process by setting the\n**onload** and **onerror** event handlers to null:\n\n```js\ndocument.getElementById('file-input').onchange = function (e) {\n    var loadingImage = loadImage(\n        e.target.files[0],\n        function (img) {\n            document.body.appendChild(img);\n        },\n        {maxWidth: 600}\n    );\n    loadingImage.onload = loadingImage.onerror = null;\n};\n```\n\nThe second argument must be a **callback** function, which is called when the\nimage has been loaded or an error occurred while loading the image. The callback\nfunction is passed one argument, which is either a HTML **img** element, a\n[canvas](https://developer.mozilla.org/en/HTML/Canvas) element, or an\n[Event](https://developer.mozilla.org/en/DOM/event) object of type **error**:\n\n```js\nvar imageUrl = \"https://example.org/image.png\";\nloadImage(\n    imageUrl,\n    function (img) {\n        if(img.type === \"error\") {\n            console.log(\"Error loading image \" + imageUrl);\n        } else {\n            document.body.appendChild(img);\n        }\n    },\n    {maxWidth: 600}\n);\n```\n\n## Options\nThe optional third argument to **loadImage()** is a map of options:\n\n* **maxWidth**: Defines the maximum width of the img/canvas element.\n* **maxHeight**: Defines the maximum height of the img/canvas element.\n* **minWidth**: Defines the minimum width of the img/canvas element.\n* **minHeight**: Defines the minimum height of the img/canvas element.\n* **sourceWidth**: The width of the sub-rectangle of the source image to draw\ninto the destination canvas.  \nDefaults to the source image width and requires `canvas: true`.\n* **sourceHeight**: The height of the sub-rectangle of the source image to draw\ninto the destination canvas.  \nDefaults to the source image height and requires `canvas: true`.\n* **top**: The top margin of the sub-rectangle of the source image.  \nDefaults to `0` and requires `canvas: true`.\n* **right**: The right margin of the sub-rectangle of the source image.  \nDefaults to `0` and requires `canvas: true`.\n* **bottom**: The bottom margin of the sub-rectangle of the source image.  \nDefaults to `0` and requires `canvas: true`.\n* **left**: The left margin of the sub-rectangle of the source image.  \nDefaults to `0` and requires `canvas: true`.\n* **contain**: Scales the image up/down to contain it in the max dimensions if\nset to `true`.  \nThis emulates the CSS feature\n[background-image: contain](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Scaling_background_images#contain).\n* **cover**: Scales the image up/down to cover the max dimensions with the image\ndimensions if set to `true`.  \nThis emulates the CSS feature\n[background-image: cover](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Scaling_background_images#cover).\n* **aspectRatio**: Crops the image to the given aspect ratio (e.g. `16/9`).  \nSetting the `aspectRatio` also enables the `crop` option.\n* **pixelRatio**: Defines the ratio of the canvas pixels to the physical image\npixels on the screen.  \nShould be set to `window.devicePixelRatio` unless the scaled image is not\nrendered on screen.  \nDefaults to `1` and requires `canvas: true`.\n* **downsamplingRatio**: Defines the ratio in which the image is downsampled.  \nBy default, images are downsampled in one step. With a ratio of `0.5`, each step\nscales the image to half the size, before reaching the target dimensions.  \nRequires `canvas: true`.\n* **crop**: Crops the image to the maxWidth/maxHeight constraints if set to\n`true`.  \nEnabling the `crop` option also enables the `canvas` option.\n* **orientation**: Allows to transform the canvas coordinates according to the\nEXIF orientation specification.  \nSetting the `orientation` also enables the `canvas` option.\n* **canvas**: Returns the image as\n[canvas](https://developer.mozilla.org/en/HTML/Canvas) element if set to `true`.\n* **crossOrigin**: Sets the crossOrigin property on the img element for loading\n[CORS enabled images](https://developer.mozilla.org/en-US/docs/HTML/CORS_Enabled_Image).\n* **noRevoke**: By default, the\n[created object URL](https://developer.mozilla.org/en/DOM/window.URL.createObjectURL)\nis revoked after the image has been loaded, except when this option is set to\n`true`.\n\nThey can be used the following way:\n\n```js\nloadImage(\n    fileOrBlobOrUrl,\n    function (img) {\n        document.body.appendChild(img);\n    },\n    {\n        maxWidth: 600,\n        maxHeight: 300,\n        minWidth: 100,\n        minHeight: 50,\n        canvas: true\n    }\n);\n```\n\nAll settings are optional. By default, the image is returned as HTML **img**\nelement without any image size restrictions.\n\n## Meta data parsing\nIf the Load Image Meta extension is included, it is also possible to parse image\nmeta data.  \nThe extension provides the method **loadImage.parseMetaData**, which can be used\nthe following way:\n\n```js\nloadImage.parseMetaData(\n    fileOrBlob,\n    function (data) {\n        if (!data.imageHead) {\n            return;\n        }\n        // Combine data.imageHead with the image body of a resized file\n        // to create scaled images with the original image meta data, e.g.:\n        var blob = new Blob([\n            data.imageHead,\n            // Resized images always have a head size of 20 bytes,\n            // including the JPEG marker and a minimal JFIF header:\n            loadImage.blobSlice.call(resizedImage, 20)\n        ], {type: resizedImage.type});\n    },\n    {\n        maxMetaDataSize: 262144,\n        disableImageHead: false\n    }\n);\n```\n\nThe third argument is an options object which defines the maximum number of\nbytes to parse for the image meta data, allows to disable the imageHead creation\nand is also passed along to segment parsers registered via loadImage extensions,\ne.g. the Exif parser.\n\n**Note:**  \nBlob objects of resized images can be created via\n[canvas.toBlob()](https://github.com/blueimp/JavaScript-Canvas-to-Blob).\n\n### Exif parser\nIf you include the Load Image Exif Parser extension, the **parseMetaData**\ncallback **data** contains the additional property **exif** if Exif data could\nbe found in the given image.  \nThe **exif** object stores the parsed Exif tags:\n\n```js\nvar orientation = data.exif[0x0112];\n```\n\nIt also provides an **exif.get()** method to retrieve the tag value via the\ntag's mapped name:\n\n```js\nvar orientation = data.exif.get('Orientation');\n```\n\nBy default, the only available mapped names are **Orientation** and\n**Thumbnail**.  \nIf you also include the Load Image Exif Map library, additional tag mappings\nbecome available, as well as two additional methods, **exif.getText()** and\n**exif.getAll()**:\n\n```js\nvar flashText = data.exif.getText('Flash'); // e.g.: 'Flash fired, auto mode',\n\n// A map of all parsed tags with their mapped names as keys and their text values:\nvar allTags = data.exif.getAll();\n```\n\nThe Exif parser also adds additional options for the parseMetaData method, to\ndisable certain aspects of the parser:\n\n* **disableExif**: Disables Exif parsing.\n* **disableExifThumbnail**: Disables parsing of the Exif Thumbnail.\n* **disableExifSub**: Disables parsing of the Exif Sub IFD.\n* **disableExifGps**: Disables parsing of the Exif GPS Info IFD.\n\n## License\nThe JavaScript Load Image script is released under the\n[MIT license](http://www.opensource.org/licenses/MIT).\n\n## Credits\n\n* Image meta data handling implementation based on the help and contribution of\nAchim Stöhr.\n* Exif tags mapping based on Jacob Seidelin's\n[exif-js](https://github.com/jseidelin/exif-js).\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/blueimp/JavaScript-Load-Image/issues"
  },
  "_id": "blueimp-load-image@2.6.2",
  "dist": {
    "shasum": "46d128680126ba7f516ba15fa82678959f767532"
  },
  "_from": "blueimp-load-image@",
  "_resolved": "https://registry.npmjs.org/blueimp-load-image/-/blueimp-load-image-2.6.2.tgz"
}
